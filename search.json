[{"path":"https://martinlaw.github.io/abscessus/articles/Abscessus_analysis.html","id":"load-packages-and-anonymised-data-clean","dir":"Articles","previous_headings":"","what":"Load packages and anonymised data, clean","title":"Abscessus_analysis","text":"","code":"library(librarian) librarian::shelf(survival, survminer,martinlaw/abscessus) #>  #>   These packages will be installed: #>  #>   'survminer' #>  #>   It may take some time. #> also installing the dependencies 'crayon', 'diffobj', 'rematch2', 'pkgload', 'praise', 'waldo', 'testthat', 'numDeriv', 'SparseM', 'MatrixModels', 'minqa', 'nloptr', 'RcppEigen', 'carData', 'abind', 'pbkrtest', 'quantreg', 'lme4', 'commonmark', 'Rcpp', 'corrplot', 'car', 'colorspace', 'markdown', 'png', 'jpeg', 'gtable', 'isoband', 'ggrepel', 'ggsci', 'cowplot', 'ggsignif', 'polynom', 'rstatix', 'exactRankTests', 'mvtnorm', 'farver', 'labeling', 'munsell', 'RColorBrewer', 'viridisLite', 'backports', 'ellipsis', 'generics', 'tidyselect', 'KMsurv', 'data.table', 'zoo', 'km.ci', 'xtable', 'gridtext', 'ggplot2', 'ggpubr', 'gridExtra', 'maxstat', 'scales', 'broom', 'dplyr', 'tidyr', 'survMisc', 'ggtext'  dat <- read.csv(\"../data/abscessus_data.csv\")  # Create more informative variables: dat$infected <- ifelse(test=dat$abscessuss_yes_1, yes=\"Infected\", no=\"Not infected\") dat$alive <- ifelse(test=dat$alive_yes_1, yes=\"Alive\", no=\"Not alive\") dat$lung.dysfun <- ifelse(test=dat$CLAD_yes_1, yes=\"Yes\", no=\"No\") dat$airway.injury <- ifelse(test=dat$airway_injury_yes_1, yes=\"Injury\", no=\"No Injury\")  names(dat)[names(dat)==\"survival_post_tx\"] <- \"time\" dat$status <- -1*(dat$alive_yes_1-1)"},{"path":[]},{"path":"https://martinlaw.github.io/abscessus/articles/Abscessus_analysis.html","id":"binary","dir":"Articles","previous_headings":"Difference in mortality","what":"Binary","title":"Abscessus_analysis","text":"Begin 2x2 table: Treating survival binary: difference groups using Fisherâ€™s Exact Test:","code":"con <- table(dat$infected, dat$alive) con #>                #>                Alive Not alive #>   Infected         7         2 #>   Not infected    43        16 fisher.test(con)  #>  #>  Fisher's Exact Test for Count Data #>  #> data:  con #> p-value = 1 #> alternative hypothesis: true odds ratio is not equal to 1 #> 95 percent confidence interval: #>   0.2147327 14.0893634 #> sample estimates: #> odds ratio  #>   1.297558"},{"path":[]},{"path":"https://martinlaw.github.io/abscessus/articles/Abscessus_analysis.html","id":"plot","dir":"Articles","previous_headings":"Difference in mortality > Survival analysis","what":"Plot","title":"Abscessus_analysis","text":"","code":"fit <- survfit(Surv(time, status) ~ infected, data = dat) ggsurvplot(fit, data=dat)"},{"path":"https://martinlaw.github.io/abscessus/articles/Abscessus_analysis.html","id":"log-rank-test","dir":"Articles","previous_headings":"Difference in mortality > Survival analysis","what":"Log-rank test","title":"Abscessus_analysis","text":"log-rank test finds difference survival times two groups, appropriate model assume proportional hazards.","code":"fit.diff <- survdiff(formula(fit), data=dat) fit.diff #> Call: #> survdiff(formula = formula(fit), data = dat) #>  #>                        N Observed Expected (O-E)^2/E (O-E)^2/V #> infected=Infected      9        2     2.48    0.0937     0.109 #> infected=Not infected 59       16    15.52    0.0150     0.109 #>  #>  Chisq= 0.1  on 1 degrees of freedom, p= 0.7 fit.diff$pvalue #> [1] 0.7415316"},{"path":"https://martinlaw.github.io/abscessus/articles/Abscessus_analysis.html","id":"cox-ph","dir":"Articles","previous_headings":"Difference in mortality > Survival analysis","what":"Cox PH","title":"Abscessus_analysis","text":"Fitting Cox proportional hazards model also show effect, though plot , assumption proportional hazards appears hold.","code":"cox.no.covar <- coxph(Surv(time, status) ~ infected, data = dat) cox.no.covar #> Call: #> coxph(formula = Surv(time, status) ~ infected, data = dat) #>  #>                        coef exp(coef) se(coef)     z     p #> infectedNot infected 0.2468    1.2799   0.7502 0.329 0.742 #>  #> Likelihood ratio test=0.12  on 1 df, p=0.7341 #> n= 68, number of events= 18"},{"path":"https://martinlaw.github.io/abscessus/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"First Last. Author, maintainer.","code":""},{"path":"https://martinlaw.github.io/abscessus/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Last F (2022). abscessus: Package (One Line, Title Case). R package version 0.0.0.9000, https://martinlaw.github.io/abscessus/.","code":"@Manual{,   title = {abscessus: What the Package Does (One Line, Title Case)},   author = {First Last},   year = {2022},   note = {R package version 0.0.0.9000},   url = {https://martinlaw.github.io/abscessus/}, }"}]
